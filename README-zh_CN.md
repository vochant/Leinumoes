# Leinumoes

[English](./README.md) | 简体中文 | [日本語](./README-ja.md)

Leinumoes 是一个轻量级论坛系统，基于 [MDUI](https://mdui.org/) 前端库和 [Node.js](https://nodejs.org/) 后端运行时环境开发而成，旨在为用户提供一个简洁、高效的在线交流平台。该系统使用 Markdown 及多种扩展撰写文章，并具有简单的社区功能，适合小型的个人论坛。

## 功能

- **用户账号管理** 用户可以注册和登录账号，编辑信息。存在基本的权限管理，可任命或撤销管理员、封禁或解封用户。可按需开启邀请制注册。
- **文章广场** 支持查看置顶文章、最新文章，支持按板块浏览文章，可设置某一板块为公告栏。板块支持动态创建和修改。
- **文章撰写** 支持 Markdown 语法及多种扩展撰写文章，暂不支持在编写文章时直接上传图片等附件。
- **文章互动** 支持回复文章或其他回复且具有楼层显示，支持赞或踩文章。
- **站内信息** 支持用户间发送私信或创建群组，支持 Markdown 语法。
- **站内通知** 支持向单个用户或所有用户发送系统通知，同时系统自带互动通知功能。
- **用户动态** 支持用户发布简短且无标题的动态，但互动权限仅限自己、被关注者和管理员。
- **Markdown 工具** 为弥补 Markdown\*Palettes 自带预览功能和 Leinumoes 渲染器的差异，允许使用该工具通过服务端 Leinumoes 渲染器预览。
- **云存储** 支持用户上传附件，并使用图片语法或文件引用语法插入附件。普通用户有单文件大小限制和总大小限制，管理员不受限制。
- **管理后台** 管理员可以通过该系统方便地进行管理。
- **用户支持中心** 如用户遇到问题，可直接在站内解决。
- **静态内容** 允许在服务端使用 JSON 描述静态页面，可在 Markdown 片段中插入 HTML 或直接使用 HTML 片段，不受常规限制。

## 构建

该项目无需构建，克隆后补全依赖并创建配置文件即可直接使用。

## 安装

克隆本仓库，随后在项目目录下运行以下安装命令。

对于 \*nix 系统：

```bash
npm install
mv config.json.in config.json
```

对于 Windows 系统：

```batch
npm install
ren config.json.in config.json
```

## 配置

对于基础配置，请更改 `config.json`。字段含义如下：

- `title` 论坛标题
- `subtitle` 论坛副标题
- `key` 加密密钥
- `port` 服务器监听端口
- `announcement` 公告板块
- `invite` 邀请制
- `no_guest` 禁止游客访问，强制要求登录

对于错误码及其显示名称，请更改 `errids.json` 对应字段。

对于静态内容，请在 `static/` 目录下创建 JSON 文件，文件名即为静态页面路径，格式参照该目录下的示例文件。

其余支持的内容请在运行后于浏览器中操作。

## 运行

在项目目录下运行以下命令启动服务器：

```bash
node index.js
```

服务器启动后，访问 `http://localhost:<port>` 进入论坛首页，`<port>` 为 `config.json` 中配置的端口号。

请在公开前注册一个用户并妥善保管其密码，注册的第一个用户将自动成为超级管理员。通常情况下，全站将仅有一个超级管理员，可以不通过数据库操作任命或撤销的管理员均为普通管理员。

## 许可证

该项目采用 MIT 许可证，详情请参阅 [LICENSE](./LICENSE) 文件。